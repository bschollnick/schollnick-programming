import indigo_restful_apiimport csvimport sysif __name__ == "__main__":      #   If run from the Command line	Indigo_server = indigo_restful_api.Indigo_Restful_Server ()#	Indigo_server.set_server (r"http://127.0.0.1:8176" )	Indigo_server.set_server (r"http://192.168.1.110:8080" )#	Indigo_server.set_server_authentication ( "test", "test")	if len(sys.argv) > 1:		csv_output = True		writer = csv.writer ( open(sys.argv[1], 'w' ) )		writer.writerow ( ( "Device Name", "Description", "Addr",							"Device Type", "Firmware", "Status", "Last updated") )	else: 		csv_output = False 	device_list = Indigo_server.get_device_list () 	for device in device_list: 		device_information = Indigo_server.get_device_by_name ( device ) 		 		name =  device_information["name"] 		if "desc" in device_information.keys():			desc = device_information["desc"]		else:			desc = "None (N/A)"		address = device_information["addressStr"]		dev_type = device_information["type"]		x = int(device_information["versByte"])		if x <> 0:			hex_value = str(hex(x))[2:4]		else:			hex_value = "00"		if len(hex_value) < 2:			hex_value = "0" + hex_value		firmware = "%s.%s" % (hex_value[0], int(hex_value[1], 16) )		status = device_information ["displayLongState"]		last_change = device_information["lastChangedDateStr"]		if not csv_output:	 		print "Device Name: ", name	 		print "\tDescription: ", desc			print "\tAddress: ", address			print "\tDevice Type: ",dev_type 			print "\tFirmware: ", firmware 			print "\tStatus: ", status 			print "\tLast Updated: ",last_change			print			print 		else: 			writer.writerow ( ( name, 								desc, 								address, 								dev_type, 								version, 								status, 								last_change ) )